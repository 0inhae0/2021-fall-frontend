# Socket 사용하셔야겠죠?

실시간 소통을 위해서 필요한 socket, 자주 사용하지는 않더라도 한 번쯤은 사용해보시리라 생각합니다.
저와 함께 한 번 알아보시죠.

## :rocket:socket이란 무엇인가?

socket이란 프로세스가 네트워크 세계를 향해서 그리고 네트워크 세계로부터 데이터를 받기 위한 실제 창구를 의미합니다. 소켓은 프로토콜과 IP 주소, 포트 넘버로 정의됩니다. 아마 이는 다 아시리라 생각해서 넘어가도록 하겠습니다.

그리하여 소켓이란 독립적인 두 호스트를 연결해주는 도구로써 인터페이스의 역할을 하고 데이터를 주고 받을 수 있는 구조체로 소켓을 통해 데이터 통로가 만들지게 됩니다. 그리고 이러한 소켓은 역할에 따라 서버 소켓, 클라이언트 소켓으로 나뉘게 됩니다.

## :question: 그래서 소켓 통신이 실제로 어떻게 돌아가나요?

실제 소켓 통신의 아주 정석적인인 흐름을 한 번 보여드리도록 하겠습니다.

<img src="https://on1ystar.github.io/public/img/socket/socket-1-3.png"></img>

### 서버 (Server)

1. socket() 함수를 이용하여 소켓을 생성
2. bind() 함수로 ip와 port 번호를 설정하게 됩니다.
3. listen() 함수로 클라이언트의 접근 요청에 수신 대기열을 만들어 몇 개의 클라이언트를 대기 시킬지 결정
4. accept() 함수를 사용하여 클라이언트와의 연결을 기다림

### 클라이언트 (Client)

1. socket() 함수로 가장 먼저 소켓을 연다.
2. connect() 함수를 이용하여 통신할 서버의 ip와 port 번호에 통신 시도
3. 통신을 시도 시, accet()함수를 이용하여 클라이언트의 socket descriptor를 반환
4. 이를 통해
